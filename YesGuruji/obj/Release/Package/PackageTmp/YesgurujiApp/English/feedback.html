<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Contact US</title>
    <meta name="description" content="Free Bootstrap Theme by uicookies.com">
    <meta name="keywords" content="free website templates, free bootstrap themes, free template, free bootstrap, free website template">

    <link href="https://fonts.googleapis.com/css?family=Raleway:300,400,500,700|Open+Sans" rel="stylesheet">    
    <link rel="stylesheet" href="css/styles-merged.css">
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/custom.css">    
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <!--[if lt IE 9]>
      <script src="js/vendor/html5shiv.min.js"></script>
      <script src="js/vendor/respond.min.js"></script>
    <![endif]-->
    <style>
        .addRateColor{
           color: yellow;
        }
        
    </style>
</head>
<body>
    <div class="probootstrap-search" id="probootstrap-search">
        <a href="#" class="probootstrap-close js-probootstrap-close"><i class="icon-cross"></i></a>
        <form action="#">
            <input type="search" name="s" id="search" placeholder="Search a keyword and hit enter...">
        </form>
    </div>

    <div class="probootstrap-page-wrapper">
        <!-- Fixed navbar -->

        <div class="probootstrap-header-top">
            <div class="container">
                <div class="row">
                    <div class="col-lg-9 col-md-9 col-sm-9 probootstrap-top-quick-contact-info">
                        <!--<span><i class="icon-location2"></i>F-211, New Delhi, India - 100036</span>-->
                        <span><i class="icon-phone2"></i>+191-123-456-7890</span>
                        <span><i class="icon-mail"></i>support@YesGuruJI.com</span>
                    </div>
                    <div class="col-lg-3 col-md-3 col-sm-3 probootstrap-top-social">
                        <ul>
                            <li><a href="#"><i class="icon-linkedin"></i></a></li>
                            <li><a href="#"><i class="icon-facebook2"></i></a></li>
                            <!--<li><a href="#"><i class="icon-instagram2"></i></a></li>-->
                            <li><a href="#"><i class="icon-youtube"></i></a></li>
                            <!--<li><a href="#" class="probootstrap-search-icon js-probootstrap-search"><i class="icon-search"></i></a></li>-->
                        </ul>
                    </div>
                </div>
            </div>
        </div>
        <nav class="navbar navbar-default probootstrap-navbar">
            <div class="container">
                <div class="navbar-header">
                    <div class="btn-more js-btn-more visible-xs">
                        <a href="#"><i class="icon-dots-three-vertical "></i></a>
                    </div>
                    <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar-collapse" aria-expanded="false" aria-controls="navbar">
                        <span class="sr-only">Toggle navigation</span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                    <a class="navbar-brand" href="index.html" title="uiCookies:Enlight">YesGuruJi</a>
                </div>
                <div id="navbar-collapse" class="navbar-collapse collapse">
                    <ul class="nav navbar-nav navbar-right">
                        <li><a href="index.html">Home</a></li>
                        <li><a href="courses.html">Courses</a></li>
                        <li><a href="teachers.html">Faculty</a></li>
                        <li><a href="contact.html">Ask Question</a></li>


                        <li><a href=""><div style="border-radius: 25px;background-color:#edf8d8; width: 44px;border: 1px solid green;padding: 3px; margin: 0px;"> Hindi </div></a></li>
                        <li><a href=""><div style="border-radius: 25px;background-color:#edf8d8; width: 58px;border: 1px solid green;padding: 3px; margin: 0px;"> English</div></a></li>

                    </ul>
                </div>
            </div>
        </nav>

        <section class="probootstrap-section probootstrap-section-colored">
            <div class="container">
                <div class="row">
                    <div class="col-md-12 text-left section-heading probootstrap-animate">
                        <h1 class="mb0">Feed Back</h1>
                    </div>
                </div>
            </div>
        </section>

        <section class="probootstrap-section probootstrap-section-sm">
            <div class="container">
                <div class="row">
                    <div class="col-md-12">
                        <div class="row probootstrap-gutter0">
                            <div class="col-md-4" id="probootstrap-sidebar">
                                <div class="probootstrap-sidebar-inner probootstrap-overlap probootstrap-animate">
                                    <h3>Hello !!!</h3>
                                    <ul class="probootstrap-side-menu">

                                        On this page you can contact us by using the below form and choosing the appropriate category.
                                        We will try our best to get back back to you within 2 working days.

                                    </ul>
                                </div>
                            </div>
                            <div class="col-md-7 col-md-push-1  probootstrap-animate" id="probootstrap-content">                               
                                <form name="feedbackform" id="feedbackform">
                                        <div class="form-group">
                                            <label for="VideoName">Name :- </label>
                                            <strong><span id="spanVideoId" >Video Name</span></strong>                                            
                                        </div> 
                                        <div class="form-group">
                                            <div class="review-block-rate" id="dvRating">
                                                <button type="button" class="btn btn-xs" aria-label="Left Align" onclick="btnClickRating('1')" id="btnRate1"> <span class="glyphicon glyphicon-star" aria-hidden="true"></span> </button>
                                                <button type="button" class="btn btn-xs" aria-label="Left Align" onclick="btnClickRating('2')" id="btnRate2"> <span class="glyphicon glyphicon-star" aria-hidden="true"></span> </button>
                                                <button type="button" class="btn btn-xs" aria-label="Left Align" onclick="btnClickRating('3')" id="btnRate3"> <span class="glyphicon glyphicon-star" aria-hidden="true"></span> </button>
                                                <button type="button" class="btn btn-xs" aria-label="Left Align" onclick="btnClickRating('4')" id="btnRate4"> <span class="glyphicon glyphicon-star" aria-hidden="true"></span> </button>
                                                <button type="button" class="btn btn-xs" aria-label="Left Align" onclick="btnClickRating('5')" id="btnRate5"> <span class="glyphicon glyphicon-star" aria-hidden="true"></span> </button>
                                            </div>
                                        </div>
                                        <div class="form-group">
                                            <label for="Comment">Comment</label>
                                            <textarea cols="20" rows="5" class="form-control" id="Comment" name="Comment"></textarea>
                                        </div>                                      
                                        <div class="form-group">
                                            <input type="submit" class="btn btn-primary btn-lg" id="Save" name="Save" value="Send Feedback">
                                        </div>
                            </form>                              
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-12">
                        <div class="row probootstrap-gutter0">
                            <div class="col-md-4">
                                
                            </div>
                            <div class="col-md-7 col-md-push-1  probootstrap-animate" id="probootstrap-content">
                                <table style="width:100%">
                                    <thead>
                                        <tr>
                                            <th>Rating</th>
                                            <th>Comment</th>
                                        </tr>
                                    </thead>
                                    <tbody id="tblBody"></tbody>
                                </table>
                            </div>
                        </div>
                       
                    </div>
                </div>
            </div>
        </section>

        <section class="probootstrap-cta">
            <div class="container">
                <div class="row">
                    <div class="col-md-12">
                        <h2 class="probootstrap-animate" data-animate-effect="fadeInRight">Looking for carrer oppurtunities?</h2>
                        <a href="#" role="button" class="btn btn-primary btn-lg btn-ghost probootstrap-animate" data-animate-effect="fadeInLeft">Apply Now</a>
                    </div>
                </div>
            </div>
        </section>
        <footer class="probootstrap-footer probootstrap-bg">
            <div class="container">
                <div class="row">
                    <div class="col-md-4">
                        <div class="probootstrap-footer-widget">
                            <h3>Yes GuruJi</h3>
                            <p>Rated as the best online tution platform, providing education in both Hindi and Englidh languages</p>
                            <h3>Social</h3>
                            <ul class="probootstrap-footer-social">

                                <li><a href="#"><i class="icon-facebook"></i></a></li>
                                <li><a href="#"><i class="icon-linkedin"></i></a></li>
                                <li><a href="#"><i class="icon-youtube"></i></a></li>
                            </ul>
                        </div>
                    </div>
                    <div class="col-md-3 col-md-push-1">
                        <div class="probootstrap-footer-widget">
                            <h3>Links</h3>
                            <ul>
                                <li><a href="about.html">About Us</a></li>
                                <li><a href="faq.html">FAQ</a></li>
                                <li><a href="contact.html">Contact Us</a></li>
                                <li><a href="apply.html">Careers</a></li>
                            </ul>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="probootstrap-footer-widget">
                            <h3>Contact Info</h3>
                            <ul class="probootstrap-contact-info">
                                <li><i class="icon-location2"></i> <span>F-211, New Delhi 310016</span></li>
                                <li><i class="icon-mail"></i><span>support@YesGuruJi.com</span></li>
                                <li><i class="icon-phone2"></i><span>+91-123 456 7890</span></li>
                            </ul>
                        </div>
                    </div>

                </div>
                <!-- END row -->

            </div>
            <div class="probootstrap-copyright">
                <div class="container">
                    <div class="row">
                        <div class="col-md-8 text-left">
                            <p>&copy; 2018 <a href="https://YesGuruJi.com/">YesGuruJi</a>. All Rights Reserved. Designed &amp; Developed with <i class="icon icon-heart"></i> by <a href="https://synebyte.com/">SyneByte Technologies</a></p>
                        </div>
                        <div class="col-md-4 probootstrap-back-to-top">
                            <p><a href="#" class="js-backtotop">Back to top <i class="icon-arrow-long-up"></i></a></p>
                        </div>
                    </div>
                </div>
            </div>
        </footer>
    </div>
    <!-- END wrapper -->
    <!-- Modal -->
    <div class="modal fade" id="myModal" role="dialog">
        <div class="modal-dialog modal-sm">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" style="margin-top:0px !important">&times;</button>
                </div>  
                <div class="modal-body">
                    <p style="display:none;" id="pSavedFeedback"> Feedback Successfully Saved.</p>
                    <p style="display:none;" id="pAlter"> Please select rate then submit your feedback.</p>
                </div>
                <div class="modal-footer">
                    <button id="btnHideClose" type="button" class="btn btn-default" data-dismiss="modal" onclick='location.href="/YesgurujiApp/English/index.html"'>Close</button>
                </div>
            </div>
        </div>
    </div>

    <script src="js/scripts.min.js"></script>
    <script src="js/main.min.js"></script>
    <script src="js/custom.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.9.1/underscore-min.js"></script>
    <script>
        
        var selectRateId = 0;
        function btnClickRating(ratingId) {
            $("#dvRating").find(".glyphicon").removeClass("addRateColor");

            for (var i = 1; i <= ratingId; i++) {
                $("#btnRate" + i).find(".glyphicon").addClass("addRateColor");
            }
            selectRateId = ratingId;
        }

        var objVideoData = [
                       {
                           Id: 1,
                           VideoName: "Video Name 1",                           
                       },
                       {
                           Id: 2,
                           VideoName: "Video Name 2",
                       },
   
                   ];

        $(document).ready(function () {

            getFeedBackDetail();

            var videoId;           
            var str = "";

            function getFeedBackDetail() {
                debugger;
                var url = window.location.href.slice(window.location.href.indexOf('?') + 1).split('&');
                for (var i = 0; i < url.length; i++) {
                    var urlparam = url[i].split('=');
                    if (urlparam[0] == "videoid") {
                        debugger;
                        videoId = urlparam[1];
                        var objCurrentVideoData = _.find(objVideoData, function (val) {
                            var d = val;
                            return val.Id == urlparam[1];
                        });
                        $("#spanVideoId").text(objCurrentVideoData.VideoName.trim());
                        $.ajax({
                            type: "GET",
                            contentType: "application/json; charset=utf-8",
                            dataType: "json",
                            url: '/api/FeedBack/' + urlparam[1],
                            success: function (response) {
                                $("#tblBody").find("tr").remove();
                                if (response.length > 0) {
                                    $.each(response, function (index, value) {
                                        var rate = 5;
                                        var str = "";
                                        for (var i = 1; i <= value.Rate; i++) {
                                            str += "<span class='glyphicon glyphicon-star addRateColor' aria-hidden='true'></span>";
                                            rate--;
                                        }
                                        for (var i = 1; i <= rate; i++) {
                                            str += "<span class='glyphicon glyphicon-star' aria-hidden='true'></span>";
                                        }
                                        var markup = "<tr><td>" + str + "</td><td> " + value.UserName + " :- " + value.Comment + "</td></tr>";
                                        $("table tbody").append(markup);
                                    });
                                }
                                else {
                                    var markup = "<tr colspan='2'><td>No any feedback found</td></tr>";
                                    $("table tbody").append(markup);
                                }

                            },
                            error: function (xhr, status, error) {
                                alert("error");
                            }
                        });
                        return urlparam[1];

                    }                  
                }
            }


            $("#feedbackform").submit(function (e) {
                e.preventDefault();
                $("#Save").attr("disabled", true);
                $("#pSavedFeedback").hide();
                $("#pAlter").hide();

                var feedback = new Object();

                feedback.rate = selectRateId;
                feedback.isSort = 0;

                feedback.comment = $('#Comment').val().trim();

                feedback.videoId = videoId;
                if (selectRateId != 0) {
                    $.ajax({

                        url: '/api/feedback',

                        type: 'POST',

                        dataType: 'json',

                        data: feedback,

                        success: function (data, textStatus, xhr) {
                            //location.href = "/YesgurujiApp/index.html"
                            $("#pSavedFeedback").show();
                            $("#btnHideClose").show();
                            $("#myModal").modal("show");
                            $("#Save").attr("disabled", false);
                            //location.href = "/YesgurujiApp/English/index.html"
                        },

                        error: function (xhr, textStatus, errorThrown) {
                            $("#Save").attr("disabled", false);
                            console.log('Error in Operation');

                        }

                    });
                }
                else {
                    $("#pAlter").show();
                    $("#myModal").modal("show");
                    $("#Save").attr("disabled", false);
                    $("#btnHideClose").hide();
                }

            });
          

        });
    </script>

</body>
</html>